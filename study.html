<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.7, minimum-scale=0.5, maximum-scale=1.0, user-scalable=yes">
    <title>Study Quest - Timer for Productivity</title>
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#0a0e2e">
    <meta name="msapplication-navbutton-color" content="#0a0e2e">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Study Quest Timer for Productivity - Kelola waktu belajar mandiri dengan tema Solo Leveling. Timer untuk pelajar dengan jadwal sekolah yang optimal.">
    <meta name="keywords" content="study timer, belajar, pelajar, solo leveling, quest, dungeon, waktu belajar, produktivitas">
    <meta name="author" content="Study Quest">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags (Facebook, WhatsApp, etc.) -->
    <meta property="og:title" content="Study Quest - Timer for Productivity">
    <meta property="og:description" content="Kelola waktu belajar mandiri dengan tema Solo Leveling. Timer khusus untuk pelajar dengan jadwal sekolah yang optimal.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='630' viewBox='0 0 1200 630'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%230a0e2e'/%3E%3Cstop offset='50%25' stop-color='%231a1a3a'/%3E%3Cstop offset='100%25' stop-color='%232d1b69'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1200' height='630' fill='url(%23bg)'/%3E%3Ctext x='600' y='250' text-anchor='middle' fill='%2300d4ff' font-family='Arial, sans-serif' font-size='72' font-weight='bold'%3ESTUDY QUEST%3C/text%3E%3Ctext x='600' y='320' text-anchor='middle' fill='%23a0c4ff' font-family='Arial, sans-serif' font-size='32'%3EStudy Timer - Level Up Your Knowledge%3C/text%3E%3Ctext x='600' y='420' text-anchor='middle' fill='%2300ff88' font-family='Arial, monospace' font-size='64' font-weight='bold'%3E00:00:00%3C/text%3E%3Crect x='300' y='480' width='600' height='20' fill='rgba(0,0,0,0.5)' rx='10'/%3E%3Crect x='300' y='480' width='300' height='20' fill='%2300d4ff' rx='10'/%3E%3C/svg%3E">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Study Quest">
    <meta property="og:locale" content="id_ID">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Study Quest - Timer for Productivity">
    <meta name="twitter:description" content="Kelola waktu belajar mandiri dengan tema Solo Leveling. Timer khusus untuk pelajar dengan jadwal sekolah yang optimal.">
    <meta name="twitter:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='630' viewBox='0 0 1200 630'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%230a0e2e'/%3E%3Cstop offset='50%25' stop-color='%231a1a3a'/%3E%3Cstop offset='100%25' stop-color='%232d1b69'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='1200' height='630' fill='url(%23bg)'/%3E%3Ctext x='600' y='250' text-anchor='middle' fill='%2300d4ff' font-family='Arial, sans-serif' font-size='72' font-weight='bold'%3ESTUDY QUEST%3C/text%3E%3Ctext x='600' y='320' text-anchor='middle' fill='%23a0c4ff' font-family='Arial, sans-serif' font-size='32'%3EStudy Timer - Level Up Your Knowledge%3C/text%3E%3Ctext x='600' y='420' text-anchor='middle' fill='%2300ff88' font-family='Arial, monospace' font-size='64' font-weight='bold'%3E00:00:00%3C/text%3E%3Crect x='300' y='480' width='600' height='20' fill='rgba(0,0,0,0.5)' rx='10'/%3E%3Crect x='300' y='480' width='300' height='20' fill='%2300d4ff' rx='10'/%3E%3C/svg%3E">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Study Quest">
    <meta name="application-name" content="Study Quest">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%230a0e2e' rx='6'/%3E%3Ctext x='16' y='22' text-anchor='middle' fill='%2300d4ff' font-family='Arial, sans-serif' font-size='20' font-weight='bold'%3ES%3C/text%3E%3C/svg%3E">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Orbitron', monospace;
            background: linear-gradient(135deg, #0a0e2e 0%, #1a1a3a 50%, #2d1b69 100%);
            color: #00d4ff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        

        
        /* Main container */
        .quest-container {
            background: rgba(10, 14, 46, 0.9);
            border: 2px solid #00d4ff;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 
                0 0 50px rgba(0, 212, 255, 0.3),
                inset 0 0 30px rgba(0, 212, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 2;
            max-width: 600px;
            width: 90%;
        }
        
        .quest-title {
            font-size: 2.5rem;
            font-weight: 900;
            color: #00d4ff;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.8);
            margin-bottom: 20px;
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        /* Mobile responsive styles - zoom out approach */
        @media (max-width: 768px) {
            body {
                transform: scale(0.8);
                transform-origin: top center;
                min-height: 125vh;
            }
            
            .quest-container {
                margin-top: 40px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                transform: scale(0.65);
                transform-origin: top center;
                min-height: 154vh;
            }
            
            .quest-container {
                margin-top: 60px;
            }
        }
        
        /* Fullscreen button */
        .fullscreen-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(0, 212, 255, 0.2);
            border: 2px solid #00d4ff;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .fullscreen-btn:hover {
            background: rgba(0, 212, 255, 0.4);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.6);
            transform: scale(1.1);
        }
        
        .fullscreen-btn svg {
            width: 24px;
            height: 24px;
            fill: #00d4ff;
            transition: fill 0.3s ease;
        }
        
        .fullscreen-btn:hover svg {
            fill: #00ff88;
        }
        
        /* Hide fullscreen button on mobile */
        @media (max-width: 768px) {
            .fullscreen-btn {
                display: none;
            }
        }
        
        @keyframes glow {
            from {
                text-shadow: 0 0 20px rgba(0, 212, 255, 0.8);
            }
            to {
                text-shadow: 0 0 30px rgba(0, 212, 255, 1), 0 0 40px rgba(0, 212, 255, 0.8);
            }
        }
        
        .quest-subtitle {
            font-size: 1rem;
            color: #a0c4ff;
            margin-bottom: 30px;
            opacity: 0.8;
        }
        
        .date-info {
            font-size: 1.2rem;
            color: #fff;
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }
        
        .timer-display {
            font-size: 4rem;
            font-weight: 700;
            color: #00ff88;
            text-shadow: 0 0 30px rgba(0, 255, 136, 0.8);
            margin: 30px 0;
            font-family: 'Orbitron', monospace;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            border: 1px solid #00d4ff;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #00ff88);
            border-radius: 10px;
            transition: width 1s ease;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);
        }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        
        .stat-box {
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 10px;
            padding: 15px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #a0c4ff;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #00ff88;
        }
        
        /* Status indicator - removed */
    </style>
</head>
<body>
    <div class="quest-container">
        <h1 class="quest-title">STUDY QUEST</h1>
        <p class="quest-subtitle">Study Timer - Level Up Your Knowledge</p>
        
        <div class="date-info" id="dateInfo"></div>
        
        <div class="timer-display" id="timerDisplay">00:00:00</div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Waktu Tersisa Hari Ini</div>
                <div class="stat-value" id="remainingTime">0 Jam</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Status Quest</div>
                <div class="stat-value" id="questStatus">Loading...</div>
            </div>
        </div>
    </div>

    <!-- Fullscreen Button (Desktop Only) -->
    <button class="fullscreen-btn" id="fullscreenBtn" title="Toggle Fullscreen">
        <svg viewBox="0 0 24 24">
            <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
        </svg>
    </button>

    <script>
        // Data libur nasional Indonesia 2025
        const holidays = [
            {"tanggal":"2025-01-1","keterangan":"Tahun Baru 2025 Masehi"},
            {"tanggal":"2025-01-27","keterangan":"Isra' Mi'raj Nabi Muhammad SAW"},
            {"tanggal":"2025-01-28","keterangan":"Cuti Bersama Tahun Baru Imlek 2576 Kongzili"},
            {"tanggal":"2025-01-29","keterangan":"Tahun Baru Imlek 2576 Kongzili"},
            {"tanggal":"2025-03-28","keterangan":"Cuti Bersama Hari Raya Nyepi Tahun Baru Saka 1947"},
            {"tanggal":"2025-03-29","keterangan":"Hari Raya Nyepi Tahun Baru Saka 1947"},
            {"tanggal":"2025-03-31","keterangan":"Hari Raya Idul Fitri 1446H"},
            {"tanggal":"2025-04-1","keterangan":"Hari Raya Idul Fitri 1446H"},
            {"tanggal":"2025-04-2","keterangan":"Cuti Bersama Hari Raya Idul Fitri 1446H"},
            {"tanggal":"2025-04-3","keterangan":"Cuti Bersama Hari Raya Idul Fitri 1446H"},
            {"tanggal":"2025-04-4","keterangan":"Cuti Bersama Hari Raya Idul Fitri 1446H"},
            {"tanggal":"2025-04-7","keterangan":"Cuti Bersama Hari Raya Idul Fitri 1446H"},
            {"tanggal":"2025-04-18","keterangan":"Wafat Yesus Kristus"},
            {"tanggal":"2025-04-20","keterangan":"Kebangkitan Yesus Kristus"},
            {"tanggal":"2025-05-1","keterangan":"Hari Buruh Internasional"},
            {"tanggal":"2025-05-12","keterangan":"Hari Raya Waisak 2569 BE"},
            {"tanggal":"2025-05-13","keterangan":"Cuti Bersama Hari Raya Waisak 2569 BE"},
            {"tanggal":"2025-05-29","keterangan":"Kenaikan Yesus Kristus"},
            {"tanggal":"2025-05-30","keterangan":"Cuti Bersama Kenaikan Yesus Kristus"},
            {"tanggal":"2025-06-1","keterangan":"Hari Lahir Pancasila"},
            {"tanggal":"2025-06-6","keterangan":"Hari Raya Idul Adha 1446H"},
            {"tanggal":"2025-06-9","keterangan":"Cuti Bersama Hari Raya Idul Adha 1446H"},
            {"tanggal":"2025-06-27","keterangan":"Tahun Baru Islam 1 Muharram 1447H"},
            {"tanggal":"2025-08-17","keterangan":"Hari Kemerdekaan Republik Indonesia ke 80"},
            {"tanggal":"2025-09-5","keterangan":"Maulid Nabi Muhammad SAW"},
            {"tanggal":"2025-12-25","keterangan":"Hari Raya Natal"},
            {"tanggal":"2025-12-26","keterangan":"Cuti Bersama Hari Raya Natal"}
        ];

        const dayNames = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];

        function createParticles() {
            // Particles removed for better mobile performance
        }

        function isHoliday(date) {
            const dateStr = date.getFullYear() + '-' + 
                          String(date.getMonth() + 1).padStart(2, '0') + '-' + 
                          String(date.getDate()).padStart(2, '0');
            return holidays.some(holiday => holiday.tanggal === dateStr);
        }

        function getDayType(date) {
            const dayOfWeek = date.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday
            
            if (isHoliday(date) || dayOfWeek === 0 || dayOfWeek === 6) {
                return 'weekend'; // Weekend atau libur
            } else if (dayOfWeek === 5) {
                return 'friday'; // Jumat
            } else {
                return 'weekday'; // Senin - Kamis
            }
        }

        function getStudyHours(dayType) {
            switch(dayType) {
                case 'weekday': return 7; // Senin-Kamis: 7 jam
                case 'friday': return 8;  // Jumat: 8 jam (pulang jam 15.00)
                case 'weekend': return 17; // Sabtu-Minggu/libur: 17 jam (04.00-21.00)
                default: return 7;
            }
        }

        function getStudyTimeRange(dayType) {
            const now = new Date();
            const currentHour = now.getHours();
            
            switch(dayType) {
                case 'weekday':
                case 'friday':
                    // Weekday: waktu luang 04.00-06.00 dan 16.00-21.00 (atau 15.00-21.00 untuk Jumat)
                    const endSchool = dayType === 'friday' ? 15 : 16;
                    if (currentHour >= 4 && currentHour < 6) {
                        return { start: 4, end: 6, phase: 'morning' };
                    } else if (currentHour >= endSchool && currentHour < 21) {
                        return { start: endSchool, end: 21, phase: 'afternoon' };
                    } else {
                        return { start: 4, end: 21, phase: 'full' }; // Untuk perhitungan total
                    }
                case 'weekend':
                    return { start: 4, end: 21, phase: 'full' };
                default:
                    return { start: 4, end: 21, phase: 'full' };
            }
        }

        function calculateRemainingTime() {
            const now = new Date();
            const dayType = getDayType(now);
            const timeRange = getStudyTimeRange(dayType);
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentSecond = now.getSeconds();
            
            let remainingSeconds = 0;
            let totalDaySeconds = 0;
            let elapsedSeconds = 0;
            
            if (dayType === 'weekend') {
                // Weekend: 04.00-21.00
                if (currentHour >= 4 && currentHour < 21) {
                    const endTime = 21 * 3600; // 21:00 dalam detik
                    const currentTime = currentHour * 3600 + currentMinute * 60 + currentSecond;
                    remainingSeconds = endTime - currentTime;
                    elapsedSeconds = currentTime - (4 * 3600); // Mulai dari 04:00
                } else if (currentHour < 4) {
                    // Belum mulai, hitung dari jam 4
                    const startTime = 4 * 3600;
                    const currentTime = currentHour * 3600 + currentMinute * 60 + currentSecond;
                    remainingSeconds = (21 * 3600) - (4 * 3600); // Total waktu
                    elapsedSeconds = 0;
                } else {
                    // Sudah lewat jam 21, hari sudah selesai
                    remainingSeconds = 0;
                    elapsedSeconds = 17 * 3600; // Total 17 jam
                }
                totalDaySeconds = 17 * 3600; // 17 jam total
            } else {
                // Weekday dan Friday
                const endSchool = dayType === 'friday' ? 15 : 16;
                const morningStudy = 2 * 3600; // 04.00-06.00 = 2 jam
                const afternoonStudy = (21 - endSchool) * 3600; // sampai 21.00
                
                totalDaySeconds = morningStudy + afternoonStudy;
                
                if (currentHour >= 4 && currentHour < 6) {
                    // Sedang dalam waktu belajar pagi
                    const endMorning = 6 * 3600;
                    const currentTime = currentHour * 3600 + currentMinute * 60 + currentSecond;
                    const morningRemaining = endMorning - currentTime;
                    remainingSeconds = morningRemaining + afternoonStudy;
                    elapsedSeconds = currentTime - (4 * 3600);
                } else if (currentHour >= 6 && currentHour < endSchool) {
                    // Sedang sekolah, sisa waktu hanya sore
                    remainingSeconds = afternoonStudy;
                    elapsedSeconds = morningStudy;
                } else if (currentHour >= endSchool && currentHour < 21) {
                    // Sedang dalam waktu belajar sore
                    const endDay = 21 * 3600;
                    const currentTime = currentHour * 3600 + currentMinute * 60 + currentSecond;
                    remainingSeconds = endDay - currentTime;
                    elapsedSeconds = morningStudy + (currentTime - (endSchool * 3600));
                } else if (currentHour < 4) {
                    // Belum mulai hari ini
                    remainingSeconds = totalDaySeconds;
                    elapsedSeconds = 0;
                } else {
                    // Sudah selesai hari ini
                    remainingSeconds = 0;
                    elapsedSeconds = totalDaySeconds;
                }
            }
            
            return {
                remaining: Math.max(0, remainingSeconds),
                total: totalDaySeconds,
                elapsed: Math.min(elapsedSeconds, totalDaySeconds),
                dayType: dayType
            };
        }

        function formatTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function updateDisplay() {
            const now = new Date();
            const dayType = getDayType(now);
            const timeData = calculateRemainingTime();
            
            // Update date info
            const dayName = dayNames[now.getDay()];
            const dateStr = now.getDate().toString().padStart(2, '0') + '/' + 
                          (now.getMonth() + 1).toString().padStart(2, '0') + '/' + 
                          now.getFullYear().toString().substr(-2);
            
            let message = '';
            let statusClass = '';
            
            switch(dayType) {
                case 'weekday':
                    message = `Hari ini adalah hari ${dayName}, (${dateStr}). Saatnya bekerja!`;
                    statusClass = 'status-weekday';
                    break;
                case 'friday':
                    message = `Hari ini adalah hari ${dayName}, (${dateStr}). Dikit lagi liburan, Semangat!`;
                    statusClass = 'status-friday';
                    break;
                case 'weekend':
                    message = `Hari ini adalah hari ${dayName}, (${dateStr}). Liburan harus tetap produktif ya!`;
                    statusClass = 'status-weekend';
                    break;
            }
            
            document.getElementById('dateInfo').textContent = message;
            document.getElementById('timerDisplay').textContent = formatTime(timeData.remaining);
            
            // Update progress bar
            const progress = ((timeData.elapsed / timeData.total) * 100);
            document.getElementById('progressFill').style.width = progress + '%';
            
            // Update stats
            const remainingHours = Math.floor(timeData.remaining / 3600);
            const remainingMinutes = Math.floor((timeData.remaining % 3600) / 60);
            document.getElementById('remainingTime').textContent = 
                `${remainingHours}j ${remainingMinutes}m`;
            
            // Update quest status
            let questStatus = 'Active';
            if (timeData.remaining === 0) {
                questStatus = 'Complete';
            } else if (timeData.elapsed === 0) {
                questStatus = 'Pending';
            }
            document.getElementById('questStatus').textContent = questStatus;
        }

        // Fullscreen functionality
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log(`Error attempting to enable fullscreen: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        }

        // Update fullscreen button icon
        function updateFullscreenButton() {
            const btn = document.getElementById('fullscreenBtn');
            const svg = btn.querySelector('svg path');
            
            if (document.fullscreenElement) {
                // Exit fullscreen icon
                svg.setAttribute('d', 'M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z');
                btn.title = 'Exit Fullscreen';
            } else {
                // Enter fullscreen icon
                svg.setAttribute('d', 'M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z');
                btn.title = 'Toggle Fullscreen';
            }
        }

        // Initialize
        createParticles();
        updateDisplay();
        
        // Event listeners
        document.getElementById('fullscreenBtn').addEventListener('click', toggleFullscreen);
        document.addEventListener('fullscreenchange', updateFullscreenButton);
        
        // Update every second
        setInterval(updateDisplay, 1000);
    </script>
</body>
</html>
